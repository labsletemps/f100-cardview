/*! ScrollMagic v2.0.5 | (c) 2015 Jan Paepke (@janpaepke) | license & info: http://scrollmagic.io */
!function(e,r){"function"==typeof define&&define.amd?define(["ScrollMagic"],r):r("object"==typeof exports?require("scrollmagic"):e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic)}(this,function(i){"use strict";var o="0.85em",n="9999",b=15,G=i._util,w=0;i.Scene.extend(function(){var t,i=this;i.addIndicators=function(e){if(!t){var r={name:"",indent:0,parent:void 0,colorStart:"green",colorEnd:"red",colorTrigger:"blue"};e=G.extend({},r,e),w++,t=new s(i,e),i.on("add.plugin_addIndicators",t.add),i.on("remove.plugin_addIndicators",t.remove),i.on("destroy.plugin_addIndicators",i.removeIndicators),i.controller()&&t.add()}return i},i.removeIndicators=function(){return t&&(t.remove(),this.off("*.plugin_addIndicators"),t=void 0),i}}),i.Controller.addOption("addIndicators",!1),i.Controller.extend(function(){var l=this,e=l.info(),f=e.container,m=e.isDocument,h=e.vertical,v={groups:[]};this._indicators=v;var r=function(){v.updateBoundsPositions()},t=function(){v.updateTriggerGroupPositions()};return f.addEventListener("resize",t),m||(window.addEventListener("resize",t),window.addEventListener("scroll",t)),f.addEventListener("resize",r),f.addEventListener("scroll",r),this._indicators.updateBoundsPositions=function(e){for(var r,t,i,o=e?[G.extend({},e.triggerGroup,{members:[e]})]:v.groups,n=o.length,s={},d=h?"left":"top",a=h?"width":"height",g=h?G.get.scrollLeft(f)+G.get.width(f)-b:G.get.scrollTop(f)+G.get.height(f)-b;n--;)for(r=(i=o[n]).members.length,t=G.get[a](i.element.firstChild);r--;)s[d]=g-t,G.css(i.members[r].bounds,s)},this._indicators.updateTriggerGroupPositions=function(e){for(var r,t,i,o,n,s=e?[e]:v.groups,d=s.length,a=m?document.body:f,g=m?{top:0,left:0}:G.get.offset(a,!0),p=h?G.get.width(f)-b:G.get.height(f)-b,u=h?"width":"height",c=h?"Y":"X";d--;)t=(r=s[d]).element,i=r.triggerHook*l.info("size"),n=(o=G.get[u](t.firstChild.firstChild))<i?"translate"+c+"(-100%)":"",G.css(t,{top:g.top+(h?i:p-r.members[0].options.indent),left:g.left+(h?p-r.members[0].options.indent:i)}),G.css(t.firstChild.firstChild,{"-ms-transform":n,"-webkit-transform":n,transform:n})},this._indicators.updateTriggerGroupLabel=function(e){var r="trigger"+(1<e.members.length?"":" "+e.members[0].options.name),t=e.element.firstChild.firstChild,i;t.textContent!==r&&(t.textContent=r,h&&v.updateBoundsPositions())},this.addScene=function(e){this._options.addIndicators&&e instanceof i.Scene&&e.controller()===l&&e.addIndicators(),this.$super.addScene.apply(this,arguments)},this.destroy=function(){f.removeEventListener("resize",t),m||(window.removeEventListener("resize",t),window.removeEventListener("scroll",t)),f.removeEventListener("resize",r),f.removeEventListener("scroll",r),this.$super.destroy.apply(this,arguments)},l});var s=function(n,i){var o,s,d=this,r=x.bounds(),t=x.start(i.colorStart),a=x.end(i.colorEnd),g=i.parent&&G.get.elements(i.parent)[0];i.name=i.name||w,t.firstChild.textContent+=" "+i.name,a.textContent+=" "+i.name,r.appendChild(t),r.appendChild(a),d.options=i,d.bounds=r,d.triggerGroup=void 0,this.add=function(){s=n.controller(),o=s.info("vertical");var e=s.info("isDocument");g||(g=e?document.body:s.info("container")),e||"static"!==G.css(g,"position")||G.css(g,{position:"relative"}),n.on("change.plugin_addIndicators",u),n.on("shift.plugin_addIndicators",p),v(),f(),setTimeout(function(){s._indicators.updateBoundsPositions(d)},0)},this.remove=function(){if(d.triggerGroup){if(n.off("change.plugin_addIndicators",u),n.off("shift.plugin_addIndicators",p),1<d.triggerGroup.members.length){var e=d.triggerGroup;e.members.splice(e.members.indexOf(d),1),s._indicators.updateTriggerGroupLabel(e),s._indicators.updateTriggerGroupPositions(e),d.triggerGroup=void 0}else h();l()}};var p=function(){f()},u=function(e){"triggerHook"===e.what&&v()},c=function(){var e=s.info("vertical");G.css(t.firstChild,{"border-bottom-width":e?1:0,"border-right-width":e?0:1,bottom:e?-1:i.indent,right:e?i.indent:-1,padding:e?"0 8px":"2px 4px"}),G.css(a,{"border-top-width":e?1:0,"border-left-width":e?0:1,top:e?"100%":"",right:e?i.indent:"",bottom:e?"":i.indent,left:e?"":"100%",padding:e?"0 8px":"2px 4px"}),g.appendChild(r)},l=function(){r.parentNode.removeChild(r)},f=function(){r.parentNode!==g&&c();var e={};e[o?"top":"left"]=n.triggerPosition(),e[o?"height":"width"]=n.duration(),G.css(r,e),G.css(a,{display:0<n.duration()?"":"none"})},m=function(){var e=x.trigger(i.colorTrigger),r={};r[o?"right":"bottom"]=0,r[o?"border-top-width":"border-left-width"]=1,G.css(e.firstChild,r),G.css(e.firstChild.firstChild,{padding:o?"0 8px 3px 8px":"3px 4px"}),document.body.appendChild(e);var t={triggerHook:n.triggerHook(),element:e,members:[d]};s._indicators.groups.push(t),d.triggerGroup=t,s._indicators.updateTriggerGroupLabel(t),s._indicators.updateTriggerGroupPositions(t)},h=function(){s._indicators.groups.splice(s._indicators.groups.indexOf(d.triggerGroup),1),d.triggerGroup.element.parentNode.removeChild(d.triggerGroup.element),d.triggerGroup=void 0},v=function(){var e=n.triggerHook(),r=1e-4;if(!(d.triggerGroup&&Math.abs(d.triggerGroup.triggerHook-e)<r)){for(var t,i=s._indicators.groups,o=i.length;o--;)if(t=i[o],Math.abs(t.triggerHook-e)<r)return d.triggerGroup&&(1===d.triggerGroup.members.length?h():(d.triggerGroup.members.splice(d.triggerGroup.members.indexOf(d),1),s._indicators.updateTriggerGroupLabel(d.triggerGroup),s._indicators.updateTriggerGroupPositions(d.triggerGroup))),t.members.push(d),d.triggerGroup=t,void s._indicators.updateTriggerGroupLabel(t);if(d.triggerGroup){if(1===d.triggerGroup.members.length)return d.triggerGroup.triggerHook=e,void s._indicators.updateTriggerGroupPositions(d.triggerGroup);d.triggerGroup.members.splice(d.triggerGroup.members.indexOf(d),1),s._indicators.updateTriggerGroupLabel(d.triggerGroup),s._indicators.updateTriggerGroupPositions(d.triggerGroup),d.triggerGroup=void 0}m()}}},x={start:function(e){var r=document.createElement("div");r.textContent="start",G.css(r,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e});var t=document.createElement("div");return G.css(t,{position:"absolute",overflow:"visible",width:0,height:0}),t.appendChild(r),t},end:function(e){var r=document.createElement("div");return r.textContent="end",G.css(r,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e}),r},bounds:function(){var e=document.createElement("div");return G.css(e,{position:"absolute",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":o}),e.style.zIndex=n,e},trigger:function(e){var r=document.createElement("div");r.textContent="trigger",G.css(r,{position:"relative"});var t=document.createElement("div");G.css(t,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e}),t.appendChild(r);var i=document.createElement("div");return G.css(i,{position:"fixed",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":o}),i.style.zIndex=n,i.appendChild(t),i}}});